<div class="container">
  <div class="account-header mt-2">
    <h3>Grade Records</h3>
  </div>
  <div class="search-bar col-4 mt-2">
    <form class="d-flex" role="search">
      <div class="input-group">
        <input
          width="10px"
          class="form-control"
          type="search"
          placeholder="Search"
          aria-label="Search"
        />
      </div>
      <button class="btn" type="submit">
        <img src="./assets/search.png" alt="Search" width="30px" />
      </button>
    </form>
  </div>

  <!-- Content -->
  <div class="col-12 mt-4">
    <div class="card border-0 shadow recent-sales overflow-auto">
      <div class="card-body border-0" style="height: 450px">
        <!-- Loop through groupedGrades array -->
        <ng-container *ngFor="let gradeGroup of groupedGrades">
          <!-- Display grade and section header only once -->
          <h6 class="card-title">
            <span hidden>{{ gradeGroup.section_id }}</span>
            Grade {{ gradeGroup.grade }} | Section:
            {{ gradeGroup.section_name }}
          </h6>

          <table class="table table-bordered table-striped datatable">
            <thead>
              <tr>
                <th scope="col" style="color: #4b56d2; width: 30%">Subject</th>
                <th
                  class="text-center"
                  scope="col"
                  style="color: #4b56d2; width: 40%"
                >
                  Teacher
                </th>
                <th
                  class="text-center"
                  scope="col"
                  style="color: #4b56d2; width: 30%"
                >
                  Schedule
                </th>
              </tr>
            </thead>
            <tbody class="table-striped scrollable">
              <!-- Loop through the grouped data for this grade and section -->
              <tr *ngFor="let item of gradeGroup.values">
                <td>
                  <a
                    (click)="
                      getSubject(
                        item.faculty_id,
                        gradeGroup.section_id,
                        item.subject_id
                      )
                    "
                    routerLink="/side/grade/subjectGrade"
                    style="color: inherit; text-decoration: none"
                  >
                    {{ item.subject_name }}
                  </a>
                </td>
                <td class="text-center">
                  <a
                    (click)="getTeacher(item.faculty_id, gradeGroup.section_id)"
                    style="
                      color: inherit;
                      text-decoration: none;
                      cursor: pointer;
                    "
                  >
                    {{ item.teacher_name }}
                  </a>
                </td>
                <td class="text-center">{{ item.day }}</td>
              </tr>
            </tbody>
          </table>
        </ng-container>
      </div>
    </div>
  </div>
  <!-- End of content -->
</div>
